# Week of 2025-08-11 to 2025-08-18 (17)

### GHFirst (5)

- [Revert "[inductor] dont reuse buffers if it affects peak (#145883) (#159530)"](https://github.com/pytorch/pytorch/commit/9df07ecfbebc37885e0b7d7917612fde42a06d77)
  - newly added test fail internally D80316528, probably just a targets change, but also imo the tests should probably go into a testcase class from common or inductor utils.  While I'm pretty sure CI can run the globally defined ones, theres some CI related functionality that on the testcase class that CI benefits from ([comment](https://github.com/pytorch/pytorch/pull/159530#issuecomment-3191947506))
- [Revert "[cutlass] fix dictionary iteration error (#160552)"](https://github.com/pytorch/pytorch/commit/3650989e6e19d8a3d134c22ae7c4659bf8c93785)
  - Diff reverted internally ([comment](https://github.com/pytorch/pytorch/pull/160552#issuecomment-3189940880))
- [Revert "Factor out the strings to templates for better editor integration (#160357)"](https://github.com/pytorch/pytorch/commit/c6563341208003f64c131854a9cf029555f786d2)
  - broke a bunch of internal builds due to not being able to find the file  No such file or directory: torch/_inductor/kernel/flex/templates/flex_decode.py.jinja D80145761, might need a buck targets change? ([comment](https://github.com/pytorch/pytorch/pull/160357#issuecomment-3184435581))
- [Revert "Add `label_smoothing` param in `nn.BCELoss` and `nn.BCEWithLogitsLoss` (#150282)"](https://github.com/pytorch/pytorch/commit/641ee7478150f26969968f49d8b358e199679a8a)
  - Diff reverted internally ([comment](https://github.com/pytorch/pytorch/pull/150282#issuecomment-3182844949))
- [Revert "[triton_heuristics] Optimize the triton launcher in pt2 (#160000)"](https://github.com/pytorch/pytorch/commit/f7b2f3314cf7aede67d5fa5c75e4243208484344)
  - D80054972 failing with test_triton_kernel_2d_autotune_grad_False_dynamic_True_backend_inductor_grid_type_1_tdlp_1 ([comment](https://github.com/pytorch/pytorch/pull/160000#issuecomment-3180144676))

### Ignored Signal (2)

- [Revert "[BE][Dynamo] Type improvements in `_dynamo/utils` to generics (#159824)"](https://github.com/pytorch/pytorch/commit/33d94018668951611b318b7515ae96f04e48eac0)
  - I think this broke dynamo/test_trace_rules.py::TraceRuleTests::test_almost_impossible_missing_name [GH job link](https://github.com/pytorch/pytorch/actions/runs/16948305999/job/48035192324) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/3ef2e1ef769582a82c6ddf150e9d11bf4bf1c44f), note to self: bad TD, got lucky with no TD on mac ([comment](https://github.com/pytorch/pytorch/pull/159824#issuecomment-3186003531))
- [Revert "[Fix XPU CI][Inductor UT] Fix test cases broken by community. (#160403)"](https://github.com/pytorch/pytorch/commit/652a6f5954d039d61dc6e6575ccf89d385d74537)
  - It indeed consistently broken inductor, see https://hud.pytorch.org/hud/pytorch/pytorch/118bc97b14c24ac88a4b0c0750a9e7bf93154c76/1?per_page=50&name_filter=gcc11-inductor ([comment](https://github.com/pytorch/pytorch/pull/160403#issuecomment-3182101130))

### Landrace (2)

- [Revert "[inductor] TLParse tensor metadata logging + test (#160132)"](https://github.com/pytorch/pytorch/commit/26297c27e2511a1e7a17241b40ac63ab605b0e04)
  - broke lint [GH job link](https://github.com/pytorch/pytorch/actions/runs/17010600949/job/48226137423) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/2603e40be5fa4a66301e6654e34a82a67f2e4913).  landrace with another PR that changed some had_cuda related things ([comment](https://github.com/pytorch/pytorch/pull/160132#issuecomment-3193969792))
- [Revert "[BE] Update nvshem dependency to 3.3.20 (#160458)"](https://github.com/pytorch/pytorch/commit/c015e53d37bd08645f875b2e4b52bd8f3feded42)
  - need to rerun workflow generation (failing workflow-checks) ([comment](https://github.com/pytorch/pytorch/pull/160458#issuecomment-3193133706))

### No Signal (8)

- [Revert "[BE] [Inductor] Re-Land Support TMA before strict 3.4 cutoff (#160747)"](https://github.com/pytorch/pytorch/commit/04c7be903d0992d56bd21ec9222a5ef09101261c)
  - Looks like this breaks rocm, see https://hud.pytorch.org/hud/pytorch/pytorch/main/1?per_page=50&name_filter=rocm%20%2F%20linux-jammy-rocm-py3.10 ([comment](https://github.com/pytorch/pytorch/pull/160747#issuecomment-3194417733))
- [Revert "[cutlass backend] re-add pip cutlass path (#160180)"](https://github.com/pytorch/pytorch/commit/30d2f98daa956843a8f7b43e809da57910540306)
  - broke macos nightly ([comment](https://github.com/pytorch/pytorch/pull/160180#issuecomment-3192311552))
- [Revert "[Inductor] addmm + activation function fusion (#158137)"](https://github.com/pytorch/pytorch/commit/846963fa9bd16a363d81cf1597abb41d858805fd)
  - Broke inductor torchbench, see https://hud.pytorch.org/hud/pytorch/pytorch/663da17b622d0c56f288b32b31276166dbed761e/1?per_page=50&name_filter=inductor_torchbench%2C%202%2C%202 ([comment](https://github.com/pytorch/pytorch/pull/158137#issuecomment-3191841298))
- [Revert "appending the pythonpath (#160219)"](https://github.com/pytorch/pytorch/commit/eac2d9d695a32dd456050f45cac35134ec3809f4)
  - broke inductor? [GH job link](https://github.com/pytorch/pytorch/actions/runs/16970222746/job/48108262003) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/1d80d697a269234b47ec7ede192faf3bb9b159e3) ([comment](https://github.com/pytorch/pytorch/pull/160219#issuecomment-3189850381))
- [Revert "[ROCm] Support large inputs for coalesceValuesKernel (#158281)"](https://github.com/pytorch/pytorch/commit/f341077ce4710172da20cfad916ee37159bfe9fe)
  - broke windows cuda build? [GH job link](https://github.com/pytorch/pytorch/actions/runs/16915172288/job/47927141460) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/a7abf57aabec0ce686092e2d66e53ba185dbc56b).  Not caught b/c PR didn't have ciflow/trunk ([comment](https://github.com/pytorch/pytorch/pull/158281#issuecomment-3180408766))
- [Revert "Update triton xpu commit to support python 3.14 (#160183)"](https://github.com/pytorch/pytorch/commit/b219ca2a00a305753c4f1ea4c9c5d23243d54753)
  - ~I'm not sure how, but it seems to have broken inductor/test_extension_backend.py::ExtensionBackendTests::test_open_device_registration [GH job link](https://github.com/pytorch/pytorch/actions/runs/16911267995/job/47917091939) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/7fbc22855c17741ae016992803b2e147a13aa22d).  Maybe because the docker build changed?~ nvm I think the disabled test json was not getting pulled.  But also broke triton windows whl build [GH job link](https://github.com/pytorch/pytorch/actions/runs/16911267710/job/47913318037) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/7fbc22855c17741ae016992803b2e147a13aa22d).  Note to self: not bad TD re the test ([comment](https://github.com/pytorch/pytorch/pull/160183#issuecomment-3179840160))
- [Revert "port distributed pipeline test files for Intel GPU (#159033)"](https://github.com/pytorch/pytorch/commit/b149c7204c218e7c4d6594a89dd74f72bd480ec5)
  - broke test_cpp_extensions_stream_and_event.py::TestCppExtensionStreamAndEvent::test_stream_event [GH job link](https://github.com/pytorch/pytorch/actions/runs/16890370216/job/47849586456) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/76a0609b6bddb2bc40f1eb4ade12885023653d59) note to self: bad TD ([comment](https://github.com/pytorch/pytorch/pull/159033#issuecomment-3176833314))
- [Revert "[Graph Partition] Pass all OSS unit tests (#154667)"](https://github.com/pytorch/pytorch/commit/09381f5dacda7bbbfa361f5df76bde5cd309adc1)
  - broke inductor/test_memory.py::TestOperatorReorderForPeakMemory::test_reorder_peak_memory_lpmf [GH job link](https://github.com/pytorch/pytorch/actions/runs/16885961204/job/47836769279) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/ca7315c17162ea21b1ca5ba23f4bf6168766c7b9) note to self: bad TD ([comment](https://github.com/pytorch/pytorch/pull/154667#issuecomment-3176805477))
